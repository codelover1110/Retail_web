(this["webpackJsonpreact-hooks-redux-crud"]=this["webpackJsonpreact-hooks-redux-crud"]||[]).push([[0],{219:function(e,t,a){},343:function(e){e.exports=JSON.parse('[{"time PST":"06:00","connections":null,"http requests":null}]')},345:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),s=a(21),l=a.n(s),r=a(110),c=a(15),o=(a(218),a(219),a(26)),d=a(149),p=a(148),m=(a.n(p).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),a(89)),u=(a(241),a(3)),b=a.n(u),j=a(38),h=a.n(j),v=a(16),O=a(151),x=a.n(O),g=(a(318),a(203)),w=a(204),f=a(212),k=a(210),S=a(31),T=a(2),_=Object(S.styler)([{key:"upperlimit",color:"#7030A0",width:1,dashed:!0},{key:"lowerlimit",color:"#7030A0",width:1,dashed:!0},{key:"midpoint",color:"#0070C0",width:1},{key:"vwap",color:"#404040",width:1}]),y=function(e){Object(f.a)(a,e);var t=Object(k.a)(a);function a(e){var i;return Object(g.a)(this,a),(i=t.call(this,e)).handleTrackerChanged=function(e,t){i.setState({tracker:e,trackerEventUpplimit:e&&i.props.upperlimit.at(i.props.upperlimit.bisect(e)),trackerEventOutLower:e&&i.props.lowerlimit.at(i.props.lowerlimit.bisect(e)),trackerEventOutMid:e&&i.props.midpoint.at(i.props.midpoint.bisect(e)),trackerEventOutVwap:e&&i.props.vwap.at(i.props.vwap.bisect(e)),trackerX:e&&t(e)})},i.handleTimeRangeChange=function(e){i.setState({timerange:e}),i.handleRescale(e)},i.handleActiveChange=function(e){var t=i.state.active;t[e]=!t[e],i.setState({active:t}),i.handleRescale(i.state.timerange,t)},i.renderChart=function(){var e=[];e.push(Object(T.jsx)(S.LineChart,{axis:"axis1",series:i.props.upperlimit,columns:["upperlimit"],style:_,interpolation:"curveBasis"},"upperlimit")),e.push(Object(T.jsx)(S.LineChart,{axis:"axis1",series:i.props.lowerlimit,columns:["lowerlimit"],style:_,interpolation:"curveBasis"},"lowerlimit")),e.push(Object(T.jsx)(S.LineChart,{axis:"axis1",series:i.props.vwap,columns:["vwap"],style:_,interpolation:"curveBasis"},"vwap")),e.push(Object(T.jsx)(S.LineChart,{axis:"axis1",series:i.props.midpoint,columns:["midpoint"],style:_,interpolation:"curveBasis"},"midpoint")),e.push(Object(T.jsx)(S.ScatterChart,{axis:"axis1",series:i.props.vwap,columns:["vwap"],style:_,interpolation:"curveBasis"},"vwap"));var t=[{label:"upperlimit",value:null==i.state.tracker?"":i.state.trackerEventUpplimit.get("upperlimit")},{label:"lowerlimit",value:null==i.state.tracker?"":i.state.trackerEventOutLower.get("lowerlimit")},{label:"vwap",value:null==i.state.tracker?"":i.state.trackerEventOutVwap.get("vwap")},{label:"midpoint",value:null==i.state.tracker?"":i.state.trackerEventOutMid.get("midpoint")}],a={label:{stroke:"none",fill:"#AAA",fontWeight:200,fontSize:14,font:'"Goudy Bookletter 1911", sans-serif"'},values:{stroke:"none",fill:"#888",fontWeight:100,fontSize:11,font:'"Goudy Bookletter 1911", sans-serif"'},ticks:{fill:"none",stroke:"#AAA",opacity:.2},axis:{fill:"none",stroke:"#AAA",opacity:1}};return Object(T.jsx)(S.ChartContainer,{title:"Upperlimit | LowerLimit | Vwap | MidPoint",style:{borderRadius:8,borderStyle:"solid",borderWidth:1,borderColor:"#232122"},timeAxisStyle:a,titleStyle:{color:"#EEE",fontWeight:500},padding:20,paddingTop:5,paddingBottom:0,enablePanZoom:!0,onTimeRangeChanged:i.handleTimeRangeChange,timeRange:i.state.timerange?i.state.timerange:i.props.midpoint.range(),maxTime:i.props.midpoint.range().end(),minTime:i.props.midpoint.range().begin(),trackerPosition:i.state.tracker,onTrackerChanged:i.handleTrackerChanged,children:Object(T.jsxs)(S.ChartRow,{height:"500",trackerInfoValues:t,trackerInfoWidth:200,trackerInfoHeight:80,infoStyle:{fill:"white",stroke:"black"},children:[Object(T.jsx)(S.YAxis,{id:"axis1",hideAxisLine:!0,transition:300,style:a,labelOffset:-10,min:i.state.min,max:i.state.max,format:",.0f",width:"60",type:"linear"}),Object(T.jsx)(S.Charts,{children:e})]})})},i.handleRescale=b.a.debounce(i.rescale,300),i.state={max:i.props.max,min:i.props.min,active:{midpoint:!0,connections:!1},timerange:i.props.midpoint.range(),tracker:null},i}return Object(w.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({max:this.props.max,min:this.props.min,timerange:this.props.midpoint.range()})}},{key:"rescale",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.state.active;this.setState({max:this.props.upperlimit.crop(this.state.timerange).max("upperlimit"),min:this.props.lowerlimit.crop(this.state.timerange).min("lowerlimit")})}},{key:"render",value:function(){return Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"row",children:Object(T.jsx)("div",{className:"col-md-12",children:Object(T.jsx)(S.Resizable,{children:this.renderChart()})})})})}}]),a}(n.a.Component),C=a(343),N=[];b.a.each(C,(function(e){var t=h()(new Date("2015-04-03T".concat(e["time PST"]))),a=e["http requests"];N.push([t.toDate().getTime(),a])}));var E=new v.TimeSeries({name:"midpoint",columns:["time","midpoint"],points:N}),A=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(i.useState)(null),l=Object(o.a)(s,2),r=l[0],c=l[1],d=Object(i.useState)(null),p=Object(o.a)(d,2),u=p[0],b=p[1],j=Object(i.useState)(null),h=Object(o.a)(j,2),O=h[0],g=h[1],w=Object(i.useState)(null),f=Object(o.a)(w,2),k=f[0],S=f[1],_=Object(i.useState)(null),C=Object(o.a)(_,2),N=C[0],A=C[1],L=Object(i.useState)(E),R=Object(o.a)(L,2),D=R[0],M=R[1],I=Object(i.useState)(E),P=Object(o.a)(I,2),B=P[0],U=P[1],Y=Object(i.useState)(E),H=Object(o.a)(Y,2),W=H[0],F=H[1],V=Object(i.useState)(E),J=Object(o.a)(V,2),z=J[0],q=J[1],G=Object(i.useState)(35e3),X=Object(o.a)(G,2),Z=X[0],K=X[1],Q=Object(i.useState)(3e4),$=Object(o.a)(Q,2),ee=$[0],te=$[1],ae=function(e){if(null==e)return null;var t=e._d.getFullYear(),a=e._d.getMonth()>=10?e._d.getMonth()+1:"0"+(e._d.getMonth()+1),i=e._d.getDate()>=10?e._d.getDate():"0"+e._d.getDate(),n=e._d.getHours()>=10?e._d.getHours():"0"+e._d.getHours(),s=e._d.getMinutes()>=10?e._d.getMinutes():"0"+e._d.getMinutes(),l=e._d.getSeconds()>=10?e._d.getSeconds():"0"+e._d.getSeconds();return"".concat(t,"-").concat(a,"-").concat(i," ").concat(n,":").concat(s,":").concat(l)};return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"main-container row",children:[Object(T.jsx)("div",{className:"col-md-11",children:Object(T.jsxs)("div",{className:"row mt-3",children:[Object(T.jsx)("div",{className:"col-md-2",children:Object(T.jsxs)("div",{className:"select-wrape",children:[Object(T.jsx)("label",{children:Object(T.jsx)("strong",{children:"Exchange:"})}),Object(T.jsx)(m.a,{value:a,onChange:function(e){n(e)},options:[{value:"krkn",label:"kraken"},{value:"btrx",label:"bittrex"}]})]})}),Object(T.jsx)("div",{className:"col-md-2",children:Object(T.jsxs)("div",{className:"select-wrape",children:[Object(T.jsx)("label",{children:Object(T.jsx)("strong",{children:"Symbol:"})}),Object(T.jsx)(m.a,{value:u,onChange:function(e){b(e)},options:[{value:"btcusd",label:"btc"},{value:"ethusd",label:"eth"}]})]})}),Object(T.jsx)("div",{className:"col-md-2",children:Object(T.jsxs)("div",{className:"select-wrape",children:[Object(T.jsx)("label",{children:Object(T.jsx)("strong",{children:"Candle:"})}),Object(T.jsx)(m.a,{value:r,onChange:function(e){c(e)},options:[{value:"candles",label:"candles"},{value:"block_candles",label:"block_candles"},{value:"group_candles",label:"group_candles"}]})]})}),Object(T.jsx)("div",{className:"col-md-2",children:Object(T.jsxs)("div",{className:"select-wrape",children:[Object(T.jsx)("label",{children:Object(T.jsx)("strong",{children:"Interval:"})}),Object(T.jsx)(m.a,{value:O,onChange:function(e){g(e)},options:[{value:"1",label:"1m"},{value:"5",label:"5m"},{value:"15",label:"15m"},{value:"30",label:"30m"},{value:"60",label:"60m"},{value:"50",label:"50m"},{value:"500",label:"500m"}]})]})}),Object(T.jsx)("div",{className:"col-md-2",children:Object(T.jsxs)("div",{className:"select-wrape",children:[Object(T.jsx)("label",{children:Object(T.jsx)("strong",{children:"Start Time:"})}),Object(T.jsx)(x.a,{onChange:function(e){return S(e)},inputProps:{placeholder:"DD-MM-YYYY HH:mm"}})]})}),Object(T.jsx)("div",{className:"col-md-2",children:Object(T.jsxs)("div",{className:"select-wrape",children:[Object(T.jsx)("label",{children:Object(T.jsx)("strong",{children:"End Time:"})}),Object(T.jsx)(x.a,{onChange:function(e){return A(e)},inputProps:{placeholder:"DD-MM-YYYY HH:mm"}})]})})]})}),Object(T.jsx)("div",{className:"col-md-1 d-flex justify-content-center align-items-center",children:Object(T.jsx)("button",{className:"btn btn-success",style:{marginTop:45},onClick:function(){if(null!=a&&null!=O&&null!=u&&null!=r&&null!=k){var e="".concat(r.value,"_").concat(a.value,"_").concat(u.value),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({interval:O.value,table_name:e,start_time:ae(k),end_time:ae(N)})};fetch("https://caats.ngrok.io/api/get_data",t).then((function(e){return e.json()})).then((function(e){if(e.chart_data.midpoint.length>0){var t=new v.TimeSeries({name:"upperlimit",columns:["time","upperlimit"],points:e.chart_data.upperlimit}),a=new v.TimeSeries({name:"lowerlimit",columns:["time","lowerlimit"],points:e.chart_data.lowerlimit});K(t.crop(t).max("upperlimit")),te(a.crop(a).min("lowerlimit")),M(new v.TimeSeries({name:"midpoint",columns:["time","midpoint"],points:e.chart_data.midpoint})),U(new v.TimeSeries({name:"vwap",columns:["time","vwap"],points:e.chart_data.vwap})),F(new v.TimeSeries({name:"upperlimit",columns:["time","upperlimit"],points:e.chart_data.upperlimit})),q(new v.TimeSeries({name:"lowerlimit",columns:["time","lowerlimit"],points:e.chart_data.lowerlimit}))}else M(E),q(E),F(E),U(E)}))}else alert("Need to select values Exch, Interval, Symbol, Table, StartTime")},children:"Show"})})]}),Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"p-3 m-4 border border-muted",children:Object(T.jsx)(y,{midpoint:D,vwap:B,upperlimit:W,lowerlimit:z,max:Z,min:ee})})})]})};var L=function(){return Object(T.jsxs)(r.a,{children:[Object(T.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(T.jsx)("a",{href:"/chart",className:"navbar-brand",children:"CAATS"}),Object(T.jsx)("div",{className:"navbar-nav mr-auto",children:Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)(r.b,{to:"/chart",className:"nav-link",children:"TimeSeriesChart"})})})]}),Object(T.jsx)("div",{className:"mt-3",children:Object(T.jsx)(c.c,{children:Object(T.jsx)(c.a,{exact:!0,path:["/","/chart"],component:A})})})]})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,347)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),i(e),n(e),s(e),l(e)}))},D=a(49),M=a(208),I=a(209),P=a(155),B=a(211),U="CREATE_TUTORIAL",Y="RETRIEVE_TUTORIALS",H="UPDATE_TUTORIAL",W="DELETE_TUTORIAL",F="DELETE_ALL_TUTORIALS",V=[],J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,i=t.payload;switch(a){case U:return[].concat(Object(B.a)(e),[i]);case Y:return i;case H:return e.map((function(e){return e.id===i.id?Object(P.a)(Object(P.a)({},e),i):e}));case W:return e.filter((function(e){return e.id!==i.id}));case F:return[];default:return e}},z=Object(D.combineReducers)({tutorials:J}),q=[I.a],G=Object(D.createStore)(z,{},Object(M.composeWithDevTools)(D.applyMiddleware.apply(void 0,q)));l.a.render(Object(T.jsx)(d.a,{store:G,children:Object(T.jsx)(L,{})}),document.getElementById("root")),R()}},[[345,1,2]]]);
//# sourceMappingURL=main.caa3c065.chunk.js.map